{% extends "CustomerAppBundle::layout.html.twig" %}

{% block content %}
    {% include 'CustomerAppBundle:Partials:breadcrumb.html.twig' with {'crumblink':'Statement', 'link':'/statement'} %}

    <div class="container padding-bottom-30 padding-bottom-sm-40">
        <div class="row">
            <div class="col-md-9 text-center text-sm-left">
                <h1 class="fc-primary d-sm-inline">Statement of Account</h1>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="per-page-filter d-flex margin-top-20 margin-top-sm-0 margin-bottom-25 justify-content-end align-items-center">
                    <label class="margin-bottom-0">Transactions per page</label>
                    <select>
                        <option>100</option>
                        <option>50</option>
                        <option>Option Three</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                {% for row in rows %}
                <div data-row-id="{{row.id}}" class="default-box statement-card margin-bottom-10 margin-bottom-sm-20 margin-bottom-md-30">
                    <div class="row">
                        <div class="col-sm-8 col-12">
                            <div class="overview d-flex align-items-center">
                                <h2 class="fc-black fw-500 padding-right-5">{{ row.description }}</h2>
                            </div>
                        </div>
                        <div class="col-sm-2 col-6">
                            <div class="d-flex justify-content-center text-center align-items-center padding-top-10 padding-bottom-10 statement-details">
                                <div>
                                    <small class="fs-8 fw-500 fc-grey-3">Amount</small>
                                    <p class="fs-5 fw-500 fc-grey-3" data-type="currency">{% if row.amount >= 0.001 %}+{% elseif row.amount < -0.001 %}-{% endif %} &pound;{{ row.amount|abs|number_format(2, '.', ',') }}</p></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2 col-6">
                            <div class="d-flex justify-content-center text-center align-items-center padding-top-10 padding-bottom-10 statement-details">
                                <div>
                                    <small class="fs-8 fw-500 fc-black">Balance</small>
                                    <p class="fs-5 fw-500 fc-black" data-type="currency">{% if row.balance >= 0.001 %}+{% elseif row.balance < -0.001 %}-{% endif %} &pound;{{ row.balance|abs|number_format(2, '.', ',') }}</p></p>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 col-md-2" style="padding-right:0;border-right:1px solid #D9DDEB;">
                            <div class="ticket-details bg-grey-6 d-flex align-items-center">
                                <p data-order="{{row.date|date("Ymd")}}">{{ row.date|date("d/m/Y") }}</p>
                            </div>
                        </div>

                        <div class="col-lg-9 col-md-3">
                            <div class="ticket-details bg-grey-6">
                                <p>
                                    {{ customerReference }}
                                    <span class="fc-grey-5 d-inline">|</span>
                                    {{ unitAddress }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    </div>
    {#<div class="container table-container">#}
        {#<div class="row">#}
            {#<div class="col span_12">            #}
                {#<table class="display dataTable statement">#}
                    {#<thead>#}
                    {#<tr>#}
                        {#<th>Date</th>#}
                        {#<th>Description</th>#}
                        {#<th>Amount</th>#}
                        {#<th>Balance</th>#}
                    {#</tr>#}
                    {#</thead>#}
                    {#<tbody>#}
                    {#{% for row in rows %}#}
                        {#<tr data-row-id="{{row.id}}" class="{{row.rowClass}}">#}
                            {#<td data-order="{{row.date|date("Ymd")}}">{{ row.date|date("d-m-Y") }}</td>#}
                            {#<td>{{ row.description }}</td>#}
                            {#<td data-type="currency" class="text-right"><span style="float: left;">&pound;</span>{{ row.amount|number_format(2, '.', ',') }}</td>#}
                            {#<td data-type="currency" class="text-right"><span style="float: left;">&pound;</span>{{ row.balance|number_format(2, '.', ',') }}</td>#}
                        {#</tr>#}
                    {#{% endfor %}#}
                    {#</tbody>#}
                {#</table>#}

                {##}
            {#</div>#}
        {#</div>#}
    {#</div>#}
    {% include 'CustomerAppBundle:Partials:error-report.html.twig'%}

{% endblock %}
